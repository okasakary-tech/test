"<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PassRouter | å¿—æœ›æ ¡åˆæ ¼ã¸ã®æœ€çŸ­ãƒ«ãƒ¼ãƒˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Outfit:wght@300;400;600&display=swap');
        
        body {
            font-family: 'Outfit', 'Noto Sans JP', sans-serif;
            background-color: #f0f2f5;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .tab-active {
            color: #4f46e5;
            border-bottom: 2px solid #4f46e5;
        }

        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #e2e8f0; border-radius: 10px; }

        .progress-bar {
            height: 8px;
            background-color: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4f46e5, #818cf8);
            transition: width 0.5s ease-out;
        }

        /* Subject Styles */
        .theme-en { border-top-color: #22c55e; } 
        .theme-ma { border-top-color: #3b82f6; } 
        .theme-ja { border-top-color: #ef4444; } 
        .theme-sc { border-top-color: #f59e0b; }
    </style>
</head>
<body class="min-h-screen text-slate-800">

    <header class="glass-panel sticky top-0 z-50 px-6 shadow-sm">
        <div class="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center py-4 gap-4">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center shadow-lg shadow-indigo-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="text-white w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m16 6-4 10-4-10"/><path d="M12 18v4"/></svg>
                </div>
                <h1 class="text-xl font-bold tracking-tight">PassRouter</h1>
            </div>
            <nav class="flex gap-4 md:gap-8 overflow-x-auto pb-2 md:pb-0">
                <button onclick="switchTab('planner')" id="tab-planner" class="text-xs font-bold pb-1 tab-active whitespace-nowrap">My Planner</button>
                <button onclick="switchTab('library')" id="tab-library" class="text-xs font-bold pb-1 text-slate-400 hover:text-indigo-600 whitespace-nowrap">Study Guide</button>
                <button onclick="switchTab('analysis')" id="tab-analysis" class="text-xs font-bold pb-1 text-slate-400 hover:text-indigo-600 whitespace-nowrap">Mock Analysis</button>
            </nav>
        </div>
    </header>

    <main class="max-w-6xl mx-auto p-4 md:p-8">
        
        <!-- Tab: Planner -->
        <div id="view-planner" class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <div class="lg:col-span-4 space-y-6">
                <section class="glass-panel rounded-3xl p-6 shadow-sm">
                    <h2 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4">Target Setting</h2>
                    <div class="space-y-4">
                        <input type="text" id="target-university" placeholder="å¿—æœ›æ ¡ (ä¾‹: æ±äº¬å¤§å­¦)" class="w-full px-4 py-2 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 text-sm">
                        <input type="date" id="target-date" class="w-full px-4 py-2 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 text-sm">
                    </div>
                </section>

                <section class="glass-panel rounded-3xl p-6 shadow-sm">
                    <h2 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4">Selected Books</h2>
                    <div class="flex gap-2 mb-4">
                        <input type="text" id="book-input" placeholder="å‚è€ƒæ›¸åã‚’è¿½åŠ ..." class="flex-1 px-4 py-2 rounded-xl border border-slate-200 text-sm focus:outline-none">
                        <button onclick="addBook()" class="bg-indigo-600 text-white px-4 py-2 rounded-xl hover:bg-indigo-700 transition-colors">+</button>
                    </div>
                    <ul id="book-list" class="space-y-2 max-h-60 overflow-y-auto pr-2 custom-scrollbar"></ul>
                    <button onclick="generateRoute()" class="w-full mt-6 py-3 bg-slate-800 text-white rounded-2xl font-bold text-sm hover:bg-slate-700 transition-all">è©³ç´°ãƒ«ãƒ¼ãƒˆã‚’ç”Ÿæˆ</button>
                </section>
            </div>

            <div class="lg:col-span-8 space-y-6">
                <div id="route-container" class="hidden space-y-6 animate-in fade-in slide-in-from-bottom-4">
                    <!-- Dashboard -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-white p-6 rounded-[32px] shadow-sm">
                            <h3 class="text-2xl font-bold" id="display-uni">---</h3>
                            <p class="text-xs text-slate-400 mt-1">å—é¨“ã¾ã§ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</p>
                            <div class="mt-4 flex items-center gap-4">
                                <div class="flex-1">
                                    <div class="flex justify-between text-[10px] font-bold mb-1">
                                        <span>å…¨ä½“é€²æ—</span>
                                        <span id="overall-progress-text">0%</span>
                                    </div>
                                    <div class="progress-bar"><div id="overall-progress-fill" class="progress-fill" style="width: 0%"></div></div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-indigo-600 text-white p-6 rounded-[32px] shadow-sm flex justify-between items-center">
                            <div>
                                <span id="days-left" class="text-4xl font-bold">---</span>
                                <span class="text-xs opacity-80 block">æ®‹ã‚Šæ—¥æ•°</span>
                            </div>
                            <div class="text-right">
                                <span id="weekly-pace" class="text-lg font-bold">---</span>
                                <span class="text-[10px] opacity-80 block">æ¨å¥¨ãƒšãƒ¼ã‚¹/é€±</span>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Roadmap -->
                    <div id="route-timeline" class="space-y-6"></div>
                    
                    <!-- Daily Task Box -->
                    <div class="glass-panel rounded-[32px] p-6 border-2 border-indigo-100">
                        <h4 class="font-bold text-sm mb-4 flex items-center gap-2">
                            <span class="w-2 h-2 bg-indigo-600 rounded-full animate-pulse"></span>
                            æœ¬æ—¥ã®æ¨å¥¨ã‚¿ã‚¹ã‚¯ (TODO)
                        </h4>
                        <div id="daily-todos" class="space-y-3"></div>
                    </div>
                </div>

                <div id="empty-state" class="glass-panel rounded-[40px] h-full min-h-[400px] flex flex-col items-center justify-center text-center p-8 border-dashed border-2 border-slate-300">
                    <p class="text-slate-400 font-medium">å¿—æœ›æ ¡ã¨å‚è€ƒæ›¸ã‚’å…¥åŠ›ã—ã¦<br>è©³ç´°ãªãƒ—ãƒ©ãƒ³ã‚’ä½œæˆã—ã¾ã—ã‚‡ã†</p>
                </div>
            </div>
        </div>

        <!-- Tab: Library -->
        <div id="view-library" class="hidden space-y-8 animate-in fade-in">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <div class="glass-panel rounded-3xl p-6 border-t-4 theme-en"><h3 class="font-bold text-sm mb-1">è‹±èª</h3><p class="text-[10px] text-slate-500">åŸºç¤ã‹ã‚‰é•·æ–‡ã¸</p></div>
                <div class="glass-panel rounded-3xl p-6 border-t-4 theme-ma"><h3 class="font-bold text-sm mb-1">æ•°å­¦</h3><p class="text-[10px] text-slate-500">è§£æ³•ã®å®šç€ãŒéµ</p></div>
                <div class="glass-panel rounded-3xl p-6 border-t-4 theme-ja"><h3 class="font-bold text-sm mb-1">å›½èª</h3><p class="text-[10px] text-slate-500">è«–ç†çš„èª­è§£ã‚’ç£¨ã</p></div>
                <div class="glass-panel rounded-3xl p-6 border-t-4 theme-sc"><h3 class="font-bold text-sm mb-1">ç†ç¤¾</h3><p class="text-[10px] text-slate-500">ä»•çµ„ã¿ã®ç†è§£</p></div>
            </div>

            <div class="space-y-4">
                <div class="flex flex-wrap justify-center gap-3">
                    <button onclick="setSubjectFilter('è‹±èª')" id="btn-sub-en" class="px-5 py-2 rounded-full text-xs font-bold bg-white border">è‹±èª</button>
                    <button onclick="setSubjectFilter('æ•°å­¦')" id="btn-sub-ma" class="px-5 py-2 rounded-full text-xs font-bold bg-white border">æ•°å­¦</button>
                    <button onclick="setSubjectFilter('å›½èª')" id="btn-sub-ja" class="px-5 py-2 rounded-full text-xs font-bold bg-white border">å›½èª</button>
                    <button onclick="setSubjectFilter('ç†ç§‘ãƒ»ç¤¾ä¼š')" id="btn-sub-sc" class="px-5 py-2 rounded-full text-xs font-bold bg-indigo-600 text-white">ç†ç§‘ãƒ»ç¤¾ä¼š</button>
                </div>
                <div id="sub-category-filters" class="flex flex-wrap justify-center gap-2 pb-4 border-b"></div>
            </div>
            <div id="library-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </div>

        <!-- Tab: Analysis -->
        <div id="view-analysis" class="hidden space-y-8 animate-in fade-in">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="glass-panel rounded-3xl p-6 space-y-6">
                    <h3 class="font-bold text-lg">æ¨¡è©¦çµæœã®è¨˜éŒ²</h3>
                    <div class="space-y-3">
                        <input type="text" id="mock-name" placeholder="æ¨¡è©¦å" class="w-full px-4 py-2 rounded-xl border text-sm">
                        <input type="number" id="mock-score" placeholder="åå·®å€¤" class="w-full px-4 py-2 rounded-xl border text-sm">
                        <textarea id="mock-memo" rows="3" placeholder="åçœç‚¹ãªã©..." class="w-full px-4 py-2 rounded-xl border text-sm"></textarea>
                    </div>
                    <button onclick="analyzeMock()" id="analyze-mock-btn" class="w-full py-3 bg-indigo-600 text-white rounded-2xl font-bold text-sm">åˆ†æã‚’å®Ÿè¡Œ</button>
                </div>
                <div class="lg:col-span-2">
                    <div id="analysis-result" class="hidden glass-panel rounded-3xl p-8 border-l-8 border-indigo-600">
                        <h4 class="font-bold text-xl mb-4" id="res-mock-name">åˆ†æçµæœ</h4>
                        <div id="res-mock-content" class="text-sm leading-relaxed text-slate-600"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        let books = [];
        let bookProgress = {};
        let currentSubject = "ç†ç§‘ãƒ»ç¤¾ä¼š";
        let currentCategory = "ã™ã¹ã¦";

        const libraryData = [
            { title: "ã‚·ã‚¹ãƒ†ãƒ è‹±å˜èª", subject: "è‹±èª", category: "å˜èªãƒ»ç†Ÿèª", level: "åŸºç¤", period: "3ãƒ¶æœˆ", desc: "é »å‡ºé †ã«ä¸¦ã‚“ã å˜èªå¸³ã®æ±ºå®šç‰ˆã€‚" },
            { title: "ç‰©ç†ã®ã‚¨ãƒƒã‚»ãƒ³ã‚¹", subject: "ç†ç§‘ãƒ»ç¤¾ä¼š", category: "ç‰©ç†", level: "åŸºç¤", period: "3ãƒ¶æœˆ", desc: "ç‰©ç†ã®æœ¬è³ªã‚’ç›´æ„Ÿçš„ã«ç†è§£ã€‚ã¾ãšã¯ã“ã“ã‹ã‚‰ã€‚" },
            { title: "è‰¯å•ã®é¢¨", subject: "ç†ç§‘ãƒ»ç¤¾ä¼š", category: "ç‰©ç†", level: "æ¨™æº–", period: "2ãƒ¶æœˆ", desc: "å…¥è©¦æ¨™æº–ãƒ¬ãƒ™ãƒ«ã®å…¸å‹å•é¡Œã‚’åŠ¹ç‡ã‚ˆãæ¼”ç¿’ã€‚" },
            { title: "åŒ–å­¦ä¸€å•ä¸€ç­”", subject: "ç†ç§‘ãƒ»ç¤¾ä¼š", category: "åŒ–å­¦", level: "åŸºç¤", period: "2ãƒ¶æœˆ", desc: "çŸ¥è­˜ã®ç¶²ç¾…ã€‚ã‚»ãƒ³ã‚¿ãƒ¼/å…±ãƒ†å¯¾ç­–ã®åœŸå°ã«ã€‚" },
            { title: "ç”Ÿç‰© åŸºç¤å•é¡Œç²¾è¬›", subject: "ç†ç§‘ãƒ»ç¤¾ä¼š", category: "ç”Ÿç‰©", level: "æ¨™æº–", period: "3ãƒ¶æœˆ", desc: "å®Ÿé¨“è€ƒå¯Ÿå•é¡Œã¸ã®æ©‹æ¸¡ã—ã«æœ€é©ã€‚" },
            { title: "æ—¥æœ¬å²Bè¬›ç¾©ã®å®Ÿæ³ä¸­ç¶™", subject: "ç†ç§‘ãƒ»ç¤¾ä¼š", category: "æ—¥æœ¬å²", level: "åŸºç¤", period: "4ãƒ¶æœˆ", desc: "èª­ã¿ç‰©å½¢å¼ã§æ­´å²ã®æµã‚Œã‚’æ´ã‚€åè‘—ã€‚" },
            { title: "ä¸–ç•Œå²ç”¨èªé›†", subject: "ç†ç§‘ãƒ»ç¤¾ä¼š", category: "ä¸–ç•Œå²", level: "æ¨™æº–", period: "ç¶™ç¶š", desc: "è¾æ›¸ä»£ã‚ã‚Šã€‚é »å‡ºåº¦ã‚’ç¢ºèªã—ãªãŒã‚‰æ´»ç”¨ã€‚" },
            { title: "æ‘ç€¬ã®ã‚¼ãƒ­ã‹ã‚‰ã‚ã‹ã‚‹åœ°ç†B", subject: "ç†ç§‘ãƒ»ç¤¾ä¼š", category: "åœ°ç†", level: "åŸºç¤", period: "3ãƒ¶æœˆ", desc: "ãªãœãã†ãªã‚‹ã®ã‹ã€åœ°ç†çš„æ€è€ƒã‚’è‚²ã‚€ã€‚" },
            { title: "è”­å±±ã®å…±é€šãƒ†ã‚¹ãƒˆ æ”¿æ²»ãƒ»çµŒæ¸ˆ", subject: "ç†ç§‘ãƒ»ç¤¾ä¼š", category: "æ”¿æ²»ãƒ»çµŒæ¸ˆ", level: "åŸºç¤", period: "2ãƒ¶æœˆ", desc: "è¤‡é›‘ãªåˆ¶åº¦ã‚’å™›ã¿ç •ã„ã¦è§£èª¬ã€‚" }
        ];

        const subCategories = {
            "è‹±èª": ["ã™ã¹ã¦", "å˜èªãƒ»ç†Ÿèª", "è‹±æ–‡æ³•", "è‹±æ–‡è§£é‡ˆ", "é•·æ–‡èª­è§£"],
            "æ•°å­¦": ["ã™ã¹ã¦", "è¨ˆç®—ãƒ»åŸºç¤", "å…¸å‹è§£æ³•", "å¿œç”¨æ¼”ç¿’"],
            "å›½èª": ["ã™ã¹ã¦", "ç¾ä»£æ–‡", "å¤æ–‡", "æ¼¢æ–‡"],
            "ç†ç§‘ãƒ»ç¤¾ä¼š": ["ã™ã¹ã¦", "ç‰©ç†", "åŒ–å­¦", "ç”Ÿç‰©", "æ—¥æœ¬å²", "ä¸–ç•Œå²", "åœ°ç†", "æ”¿æ²»ãƒ»çµŒæ¸ˆ"]
        };

        function switchTab(tab) {
            ['planner', 'library', 'analysis'].forEach(t => {
                document.getElementById(`view-${t}`).classList.add('hidden');
                document.getElementById(`tab-${t}`).className = "text-xs font-bold pb-1 text-slate-400 hover:text-indigo-600 whitespace-nowrap";
            });
            document.getElementById(`view-${tab}`).classList.remove('hidden');
            document.getElementById(`tab-${tab}`).className = "text-xs font-bold pb-1 tab-active whitespace-nowrap";
            if (tab === 'library') setSubjectFilter(currentSubject);
        }

        function setSubjectFilter(sub) {
            currentSubject = sub;
            currentCategory = "ã™ã¹ã¦";
            updateSubjectButtons();
            updateCategoryFilters();
            renderLibrary();
        }

        function setCategoryFilter(cat) {
            currentCategory = cat;
            updateCategoryFilters();
            renderLibrary();
        }

        function updateSubjectButtons() {
            const btns = { "è‹±èª": "btn-sub-en", "æ•°å­¦": "btn-sub-ma", "å›½èª": "btn-sub-ja", "ç†ç§‘ãƒ»ç¤¾ä¼š": "btn-sub-sc" };
            Object.keys(btns).forEach(key => {
                const btn = document.getElementById(btns[key]);
                if (btn) btn.className = key === currentSubject ? "px-5 py-2 rounded-full text-xs font-bold bg-indigo-600 text-white shadow-md" : "px-5 py-2 rounded-full text-xs font-bold bg-white border border-slate-200";
            });
        }

        function updateCategoryFilters() {
            const container = document.getElementById('sub-category-filters');
            const cats = subCategories[currentSubject] || ["ã™ã¹ã¦"];
            container.innerHTML = cats.map(cat => `
                <button onclick="setCategoryFilter('${cat}')" class="px-3 py-1 text-[10px] font-bold rounded-lg ${cat === currentCategory ? 'bg-indigo-100 text-indigo-700' : 'bg-slate-100 text-slate-500'}">
                    ${cat}
                </button>
            `).join('');
        }

        function renderLibrary() {
            const grid = document.getElementById('library-grid');
            const filtered = libraryData.filter(item => (item.subject === currentSubject) && (currentCategory === "ã™ã¹ã¦" || item.category === currentCategory));
            grid.innerHTML = filtered.map(book => `
                <div class="glass-panel rounded-3xl p-6 hover:shadow-md transition-all border border-slate-100 flex flex-col h-full">
                    <span class="text-[9px] font-bold bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded w-fit mb-2">${book.category}</span>
                    <h4 class="font-bold text-base mb-2">${book.title}</h4>
                    <p class="text-[11px] text-slate-500 flex-grow">${book.desc}</p>
                    <button onclick="addFromLibrary('${book.title}')" class="w-full mt-4 py-2 bg-slate-800 text-white rounded-xl text-xs font-bold">è¿½åŠ ã™ã‚‹</button>
                </div>
            `).join('');
        }

        function addFromLibrary(title) {
            if (!books.includes(title)) {
                books.push(title);
                bookProgress[title] = 0;
                renderBooks();
            }
        }

        function addBook() {
            const input = document.getElementById('book-input');
            const name = input.value.trim();
            if (name && !books.includes(name)) {
                books.push(name);
                bookProgress[name] = 0;
                renderBooks();
                input.value = '';
            }
        }

        function renderBooks() {
            const list = document.getElementById('book-list');
            list.innerHTML = books.map((book, i) => `
                <li class="flex justify-between items-center bg-white p-3 rounded-xl border shadow-sm">
                    <span class="text-[11px] font-medium">${book}</span>
                    <button onclick="removeBook(${i})" class="text-slate-300">Ã—</button>
                </li>
            `).join('');
        }

        function removeBook(i) {
            delete bookProgress[books[i]];
            books.splice(i, 1);
            renderBooks();
        }

        function updateBookProgress(name, val) {
            bookProgress[name] = parseInt(val);
            calculateOverallProgress();
        }

        function calculateOverallProgress() {
            const total = books.length * 100;
            if (total === 0) return;
            const current = Object.values(bookProgress).reduce((a, b) => a + b, 0);
            const percent = Math.round((current / total) * 100);
            document.getElementById('overall-progress-text').textContent = `${percent}%`;
            document.getElementById('overall-progress-fill').style.width = `${percent}%`;
        }

        function generateRoute() {
            const uni = document.getElementById('target-university').value;
            const dateStr = document.getElementById('target-date').value;
            if (!uni || !dateStr || books.length === 0) return alert("æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");

            const diffDays = Math.ceil((new Date(dateStr) - new Date()) / (1000 * 60 * 60 * 24));
            if (diffDays <= 0) return alert("æœªæ¥ã®æ—¥ä»˜ã‚’é¸ã‚“ã§ãã ã•ã„");

            document.getElementById('empty-state').classList.add('hidden');
            document.getElementById('route-container').classList.remove('hidden');
            document.getElementById('display-uni').textContent = uni;
            document.getElementById('days-left').textContent = diffDays;
            document.getElementById('weekly-pace').textContent = `${Math.ceil(books.length * 2 / (diffDays/7) * 10) / 10}ç« `;

            const timeline = document.getElementById('route-timeline');
            timeline.innerHTML = '';
            const phases = [
                { name: "çŸ¥è­˜å®šç€æœŸ (ã‚¤ãƒ³ãƒ—ãƒƒãƒˆ)", weight: 0.45, color: "indigo", icon: "ğŸ“–" },
                { name: "å®ŸåŠ›ç·´æˆæœŸ (ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆ)", weight: 0.35, color: "blue", icon: "âœï¸" },
                { name: "ç›´å‰ç·ä»•ä¸Šã’ (éå»å•)", weight: 0.20, color: "red", icon: "ğŸ”¥" }
            ];

            phases.forEach((ph, i) => {
                const assigned = i === 0 ? books.slice(0, Math.ceil(books.length/2)) : i === 1 ? books.slice(Math.ceil(books.length/2)) : ["éå»å•æ¼”ç¿’"];
                const card = document.createElement('div');
                card.className = `glass-panel rounded-[32px] p-6 border-l-8 border-${ph.color}-500`;
                card.innerHTML = `
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="font-bold text-lg">${ph.icon} ${ph.name}</h4>
                        <span class="text-xs font-bold text-slate-500">${Math.floor(diffDays * ph.weight)}æ—¥é–“</span>
                    </div>
                    <div class="space-y-4">
                        ${assigned.map(b => `
                            <div class="bg-slate-50 p-4 rounded-2xl">
                                <div class="flex justify-between text-xs font-bold mb-2"><span>${b}</span><span>${bookProgress[b] || 0}%</span></div>
                                <input type="range" min="0" max="100" value="${bookProgress[b] || 0}" oninput="updateBookProgress('${b}', this.value); this.previousElementSibling.querySelector('span:last-child').textContent = this.value + '%'" class="w-full h-1.5 bg-slate-200 rounded-lg appearance-none accent-indigo-600">
                            </div>
                        `).join('')}
                    </div>
                `;
                timeline.appendChild(card);
            });

            document.getElementById('daily-todos').innerHTML = books.slice(0, 2).map(b => `
                <div class="flex items-center gap-3 bg-white p-3 rounded-xl border">
                    <input type="checkbox" class="w-4 h-4 rounded">
                    <p class="text-xs font-bold">${b}ã‚’ä»Šæ—¥é€²ã‚ã‚‹</p>
                </div>
            `).join('');
            calculateOverallProgress();
        }

        function analyzeMock() {
            const name = document.getElementById('mock-name').value;
            const score = document.getElementById('mock-score').value;
            if (!name || !score) return;
            const res = document.getElementById('analysis-result');
            res.classList.remove('hidden');
            document.getElementById('res-mock-name').textContent = `${name} ã®åˆ†æçµæœ`;
            document.getElementById('res-mock-content').innerHTML = `åå·®å€¤${score}ã§ã™ã­ã€‚ã“ã®ãƒ¬ãƒ™ãƒ«ãªã‚‰ã€ä»Šã®å‚è€ƒæ›¸ãƒªã‚¹ãƒˆã®ã€ŒPhase 1ã€ã‚’é‡ç‚¹çš„ã«è¡Œã„ã¾ã—ã‚‡ã†ã€‚ç†ç§‘ãƒ»ç¤¾ä¼šã¯æ—©æœŸã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆå®ŒæˆãŒå¾ŒåŠã®ä¼¸ã³ã«ç›´çµã—ã¾ã™ã€‚`;
        }

        window.onload = () => setSubjectFilter('ç†ç§‘ãƒ»ç¤¾ä¼š');
    </script>
</body>
</html>"